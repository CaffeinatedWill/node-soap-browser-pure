(self.webpackChunksoap=self.webpackChunksoap||[]).push([[941],{9272:function(e,t,i){"use strict";var n=i(723),s=[],r=[],a=n.makeRequestCallFromTimer((function(){if(r.length)throw r.shift()}));function h(e){var t;(t=s.length?s.pop():new o).task=e,n(t)}function o(){this.task=null}e.exports=h,o.prototype.call=function(){try{this.task.call()}catch(e){h.onerror?h.onerror(e):(r.push(e),a())}finally{this.task=null,s[s.length]=this}}},723:function(e,t,i){"use strict";function n(e){r.length||s(),r[r.length]=e}e.exports=n;var s,r=[],a=0,h=1024;function o(){for(;a<r.length;){var e=a;if(a+=1,r[e].call(),a>h){for(var t=0,i=r.length-a;t<i;t++)r[t]=r[t+a];r.length-=a,a=0}}r.length=0,a=0}var l,u,d,c=void 0!==i.g?i.g:self,f=c.MutationObserver||c.WebKitMutationObserver;function m(e){return function(){var t=setTimeout(n,0),i=setInterval(n,50);function n(){clearTimeout(t),clearInterval(i),e()}}}"function"==typeof f?(l=1,u=new f(o),d=document.createTextNode(""),u.observe(d,{characterData:!0}),s=function(){l=-l,d.data=l}):s=m(o),n.requestFlush=s,n.makeRequestCallFromTimer=m},9115:function(e,t,i){var n=i(2479);e.exports=n((function(e){var t=!0;return s((function(){t=!1})),function(){var i=arguments,n=this;t?s((function(){e.apply(n,i)})):e.apply(n,i)}}));var s=i(9272)},6727:function(e,t,i){"use strict";i.r(t),i.d(t,{DummyParser:function(){return fe},File:function(){return o},Formidable:function(){return Ee},IncomingForm:function(){return Ee},JSONParser:function(){return oe},MultipartParser:function(){return ne},OctetStreamParser:function(){return F},OctetstreamParser:function(){return F},PersistentFile:function(){return o},QueryStringParser:function(){return x},QuerystringParser:function(){return x},VolatileFile:function(){return u},default:function(){return Se},defaultOptions:function(){return pe},enabledPlugins:function(){return ye},errors:function(){return n},formidable:function(){return Fe},json:function(){return ue},multipart:function(){return ae},octetstream:function(){return S},querystring:function(){return D}});var n={};i.r(n),i.d(n,{aborted:function(){return z},biggerThanMaxFileSize:function(){return W},biggerThanTotalMaxFileSize:function(){return M},default:function(){return J},filenameNotString:function(){return P},malformedMultipart:function(){return B},maxFieldsExceeded:function(){return C},maxFieldsSizeExceeded:function(){return L},maxFilesExceeded:function(){return V},missingContentType:function(){return $},missingMultipartBoundary:function(){return U},missingPlugin:function(){return v},noEmptyFiles:function(){return H},noParser:function(){return O},pluginFailed:function(){return q},pluginFunction:function(){return k},smallerThanMinFileSize:function(){return I},uninitializedParser:function(){return N},unknownTransferEncoding:function(){return j}});var s=i(3384),r=i(5835),a=i(7187);class h extends a.EventEmitter{constructor({filepath:e,newFilename:t,originalFilename:i,mimetype:n,hashAlgorithm:s}){super(),this.lastModifiedDate=null,Object.assign(this,{filepath:e,newFilename:t,originalFilename:i,mimetype:n,hashAlgorithm:s}),this.size=0,this._writeStream=null,"string"==typeof this.hashAlgorithm?this.hash=r.createHash(this.hashAlgorithm):this.hash=null}open(){this._writeStream=s.createWriteStream(this.filepath),this._writeStream.on("error",(e=>{this.emit("error",e)}))}toJSON(){const e={size:this.size,filepath:this.filepath,newFilename:this.newFilename,mimetype:this.mimetype,mtime:this.lastModifiedDate,length:this.length,originalFilename:this.originalFilename};return this.hash&&""!==this.hash&&(e.hash=this.hash),e}toString(){return`PersistentFile: ${this.newFilename}, Original: ${this.originalFilename}, Path: ${this.filepath}`}write(e,t){this.hash&&this.hash.update(e),this._writeStream.closed?t():this._writeStream.write(e,(()=>{this.lastModifiedDate=new Date,this.size+=e.length,this.emit("progress",this.size),t()}))}end(e){this.hash&&(this.hash=this.hash.digest("hex")),this._writeStream.end((()=>{this.emit("end"),e()}))}destroy(){this._writeStream.destroy();const e=this.filepath;setTimeout((function(){s.unlink(e,(()=>{}))}),1)}}var o=h;class l extends a.EventEmitter{constructor({filepath:e,newFilename:t,originalFilename:i,mimetype:n,hashAlgorithm:s,createFileWriteStream:a}){super(),this.lastModifiedDate=null,Object.assign(this,{filepath:e,newFilename:t,originalFilename:i,mimetype:n,hashAlgorithm:s,createFileWriteStream:a}),this.size=0,this._writeStream=null,"string"==typeof this.hashAlgorithm?this.hash=(0,r.createHash)(this.hashAlgorithm):this.hash=null}open(){this._writeStream=this.createFileWriteStream(this),this._writeStream.on("error",(e=>{this.emit("error",e)}))}destroy(){this._writeStream.destroy()}toJSON(){const e={size:this.size,newFilename:this.newFilename,length:this.length,originalFilename:this.originalFilename,mimetype:this.mimetype};return this.hash&&""!==this.hash&&(e.hash=this.hash),e}toString(){return`VolatileFile: ${this.originalFilename}`}write(e,t){this.hash&&this.hash.update(e),this._writeStream.closed||this._writeStream.destroyed?t():this._writeStream.write(e,(()=>{this.size+=e.length,this.emit("progress",this.size),t()}))}end(e){this.hash&&(this.hash=this.hash.digest("hex")),this._writeStream.end((()=>{this.emit("end"),e()}))}}for(var u=l,d=i(7435),c=i(2520),f=i(6941),m=256,p=[];m--;)p[m]=(m+256).toString(16).substring(1);var g=i(447),_=i(9115),b=i(2830);class E extends b.PassThrough{constructor(e={}){super(),this.globalOptions={...e}}}var F=E;const y="octet-stream";function S(e,t){const i=this||e;return/octet-stream/i.test(i.headers["content-type"])&&A.call(i,i,t),i}function A(e,t){this.type=y;const i=this.headers["x-file-name"],n=this.headers["content-type"],s={originalFilename:i,mimetype:n},r=this._getNewName(s),a=this._joinDirectoryName(r),h=this._newFile({newFilename:r,filepath:a,originalFilename:i,mimetype:n});this.emit("fileBegin",i,h),h.open(),this.openedFiles.push(h),this._flushing+=1,this._parser=new F(this.options);let o=0;return this._parser.on("data",(e=>{this.pause(),o+=1,h.write(e,(()=>{o-=1,this.resume(),this.ended&&this._parser.emit("doneWritingFile")}))})),this._parser.on("end",(()=>{this._flushing-=1,this.ended=!0;const e=()=>{h.end((()=>{this.emit("file","file",h),this._maybeEnd()}))};0===o?e():this._parser.once("doneWritingFile",e)})),this}class w extends b.Transform{constructor(e={}){super({readableObjectMode:!0}),this.globalOptions={...e},this.buffer="",this.bufferLength=0}_transform(e,t,i){this.buffer+=e.toString("ascii"),this.bufferLength=this.buffer.length,i()}_flush(e){const t=new URLSearchParams(this.buffer);for(const[e,i]of t)this.push({key:e,value:i});this.buffer="",e()}}var x=w;const T="urlencoded";function D(e,t){const i=this||e;return/urlencoded/i.test(i.headers["content-type"])&&R.call(i,i,t),i}function R(e,t){this.type=T;const i=new x(this.options);return i.on("data",(({key:e,value:t})=>{this.emit("field",e,t)})),i.once("end",(()=>{this.ended=!0,this._maybeEnd()})),this._parser=i,this}const v=1e3,k=1001,z=1002,O=1003,N=1004,P=1005,L=1006,C=1007,I=1008,M=1009,H=1010,$=1011,B=1012,U=1013,j=1014,V=1015,W=1016,q=1017;var J=class extends Error{constructor(e,t,i=500){super(e),this.code=t,this.httpCode=i}},Y=i(8764).Buffer;let Z=0;const Q={PARSER_UNINITIALIZED:Z++,START:Z++,START_BOUNDARY:Z++,HEADER_FIELD_START:Z++,HEADER_FIELD:Z++,HEADER_VALUE_START:Z++,HEADER_VALUE:Z++,HEADER_VALUE_ALMOST_DONE:Z++,HEADERS_ALMOST_DONE:Z++,PART_DATA_START:Z++,PART_DATA:Z++,PART_END:Z++,END:Z++};let K=1;const G=K,X=K*=2;function ee(e){return 32|e}const te={};Object.keys(Q).forEach((e=>{te[e]=Q[e]}));class ie extends b.Transform{constructor(e={}){super({readableObjectMode:!0}),this.boundary=null,this.boundaryChars=null,this.lookbehind=null,this.bufferLength=0,this.state=Q.PARSER_UNINITIALIZED,this.globalOptions={...e},this.index=null,this.flags=0}_flush(e){this.state===Q.HEADER_FIELD_START&&0===this.index||this.state===Q.PART_DATA&&this.index===this.boundary.length?(this._handleCallback("partEnd"),this._handleCallback("end"),e()):this.state!==Q.END&&e(new J(`MultipartParser.end(): stream ended unexpectedly: ${this.explain()}`,B,400))}initWithBoundary(e){this.boundary=Y.from(`\r\n--${e}`),this.lookbehind=Y.alloc(this.boundary.length+8),this.state=Q.START,this.boundaryChars={};for(let e=0;e<this.boundary.length;e++)this.boundaryChars[this.boundary[e]]=!0}_handleCallback(e,t,i,n){void 0!==i&&i===n||this.push({name:e,buffer:t,start:i,end:n})}_transform(e,t,i){let n=0,s=this.index,{index:r,state:a,flags:h}=this;const{lookbehind:o,boundary:l,boundaryChars:u}=this,d=l.length,c=d-1;this.bufferLength=e.length;let f=null,m=null;const p=(e,t)=>{this[`${e}Mark`]="number"==typeof t?t:n},g=e=>{delete this[`${e}Mark`]},_=(t,i)=>{const s=`${t}Mark`;s in this&&(i?(this._handleCallback(t,e,this[s],n),g(t)):(this._handleCallback(t,e,this[s],e.length),p(t,0)))};for(n=0;n<this.bufferLength;n++)switch(f=e[n],a){case Q.PARSER_UNINITIALIZED:return n;case Q.START:r=0,a=Q.START_BOUNDARY;case Q.START_BOUNDARY:if(r===l.length-2){if(45===f)h|=X;else if(13!==f)return n;r++;break}if(r-1==l.length-2){if(h&X&&45===f)this._handleCallback("end"),a=Q.END,h=0;else{if(h&X||10!==f)return n;r=0,this._handleCallback("partBegin"),a=Q.HEADER_FIELD_START}break}f!==l[r+2]&&(r=-2),f===l[r+2]&&r++;break;case Q.HEADER_FIELD_START:a=Q.HEADER_FIELD,p("headerField"),r=0;case Q.HEADER_FIELD:if(13===f){g("headerField"),a=Q.HEADERS_ALMOST_DONE;break}if(r++,45===f)break;if(58===f){if(1===r)return n;_("headerField",!0),a=Q.HEADER_VALUE_START;break}if(m=ee(f),m<97||m>122)return n;break;case Q.HEADER_VALUE_START:if(32===f)break;p("headerValue"),a=Q.HEADER_VALUE;case Q.HEADER_VALUE:13===f&&(_("headerValue",!0),this._handleCallback("headerEnd"),a=Q.HEADER_VALUE_ALMOST_DONE);break;case Q.HEADER_VALUE_ALMOST_DONE:if(10!==f)return n;a=Q.HEADER_FIELD_START;break;case Q.HEADERS_ALMOST_DONE:if(10!==f)return n;this._handleCallback("headersEnd"),a=Q.PART_DATA_START;break;case Q.PART_DATA_START:a=Q.PART_DATA,p("partData");case Q.PART_DATA:if(s=r,0===r){for(n+=c;n<this.bufferLength&&!(e[n]in u);)n+=d;n-=c,f=e[n]}if(r<l.length)l[r]===f?(0===r&&_("partData",!0),r++):r=0;else if(r===l.length)r++,13===f?h|=G:45===f?h|=X:r=0;else if(r-1===l.length)if(h&G){if(r=0,10===f){h&=~G,this._handleCallback("partEnd"),this._handleCallback("partBegin"),a=Q.HEADER_FIELD_START;break}}else h&X&&45===f?(this._handleCallback("partEnd"),this._handleCallback("end"),a=Q.END,h=0):r=0;r>0?o[r-1]=f:s>0&&(this._handleCallback("partData",o,0,s),s=0,p("partData"),n--);break;case Q.END:break;default:return n}return _("headerField"),_("headerValue"),_("partData"),this.index=r,this.state=a,this.flags=h,i(),this.bufferLength}explain(){return`state = ${ie.stateToString(this.state)}`}}ie.stateToString=e=>{for(const t in Q)if(Q[t]===e)return t};var ne=Object.assign(ie,{STATES:te}),se=i(8764).Buffer;const re="multipart";function ae(e,t){const i=this||e;if(/multipart/i.test(i.headers["content-type"])){const e=i.headers["content-type"].match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(e){const s=(n=e[1]||e[2],function(){this.type=re;const e=new ne(this.options);let t,i,s;e.initWithBoundary(n),e.on("data",(({name:n,buffer:r,start:a,end:h})=>{if("partBegin"===n)s=new b.Stream,s.readable=!0,s.headers={},s.name=null,s.originalFilename=null,s.mimetype=null,s.transferEncoding=this.options.encoding,s.transferBuffer="",t="",i="";else if("headerField"===n)t+=r.toString(this.options.encoding,a,h);else if("headerValue"===n)i+=r.toString(this.options.encoding,a,h);else if("headerEnd"===n){t=t.toLowerCase(),s.headers[t]=i;const e=i.match(/\bname=("([^"]*)"|([^\(\)<>@,;:\\"\/\[\]\?=\{\}\s\t/]+))/i);"content-disposition"===t?(e&&(s.name=e[2]||e[3]||""),s.originalFilename=this._getFileName(i)):"content-type"===t?s.mimetype=i:"content-transfer-encoding"===t&&(s.transferEncoding=i.toLowerCase()),t="",i=""}else if("headersEnd"===n){switch(s.transferEncoding){case"binary":case"7bit":case"8bit":case"utf-8":{const t=e=>{"partData"===e.name&&s.emit("data",e.buffer.slice(e.start,e.end))},i=n=>{"partEnd"===n.name&&(s.emit("end"),e.off("data",t),e.off("data",i))};e.on("data",t),e.on("data",i);break}case"base64":{const t=e=>{if("partData"===e.name){s.transferBuffer+=e.buffer.slice(e.start,e.end).toString("ascii");const t=4*parseInt(s.transferBuffer.length/4,10);s.emit("data",se.from(s.transferBuffer.substring(0,t),"base64")),s.transferBuffer=s.transferBuffer.substring(t)}},i=n=>{"partEnd"===n.name&&(s.emit("data",se.from(s.transferBuffer,"base64")),s.emit("end"),e.off("data",t),e.off("data",i))};e.on("data",t),e.on("data",i);break}default:return this._error(new J("unknown transfer-encoding",j,501))}this.onPart(s)}else"end"===n&&(this.ended=!0,this._maybeEnd())})),this._parser=e});s.call(i,i,t)}else{const e=new J("bad content-type header, no multipart boundary",U,400);i._error(e)}}var n;return i}class he extends b.Transform{constructor(e={}){super({readableObjectMode:!0}),this.chunks=[],this.globalOptions={...e}}_transform(e,t,i){this.chunks.push(String(e)),i()}_flush(e){try{const e=JSON.parse(this.chunks.join(""));this.push(e)}catch(t){return void e(t)}this.chunks=null,e()}}var oe=he;const le="json";function ue(e,t){const i=this||e;return/json/i.test(i.headers["content-type"])&&de.call(i,i,t),i}function de(e,t){this.type=le;const i=new oe(this.options);i.on("data",(e=>{this.fields=e})),i.once("end",(()=>{this.ended=!0,this._maybeEnd()})),this._parser=i}class ce extends b.Transform{constructor(e,t={}){super(),this.globalOptions={...t},this.incomingForm=e}_flush(e){this.incomingForm.ended=!0,this.incomingForm._maybeEnd(),e()}}var fe=ce;const me=function(e){e=e||16;var t="",i=0;return function(){if(!t||256===i){for(t="",i=(1+e)/2|0;i--;)t+=p[256*Math.random()|0];t=t.substring(i=0,e-2)}return t+p[i++]}}(25),pe={maxFields:1e3,maxFieldsSize:20971520,maxFiles:1/0,maxFileSize:209715200,maxTotalFileSize:void 0,minFileSize:1,allowEmptyFiles:!1,keepExtensions:!1,encoding:"utf-8",hashAlgorithm:!1,uploadDir:d.tmpdir(),enabledPlugins:[S,D,ae,ue],fileWriteStreamHandler:null,defaultInvalidName:"invalid-name",filter(e){return!0},filename:void 0};function ge(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const _e=e=>{const t=e.charCodeAt(0);return!(46===t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)};class be extends a.EventEmitter{constructor(e={}){super(),this.options={...pe,...e},this.options.maxTotalFileSize||(this.options.maxTotalFileSize=this.options.maxFileSize);const t=c.resolve(this.options.uploadDir||this.options.uploaddir||d.tmpdir());if(this.uploaddir=t,this.uploadDir=t,["error","headers","type","bytesExpected","bytesReceived","_parser","req"].forEach((e=>{this[e]=null})),this._setUpRename(),this._flushing=0,this._fieldsSize=0,this._totalFileSize=0,this._plugins=[],this.openedFiles=[],this.options.enabledPlugins=[].concat(this.options.enabledPlugins).filter(Boolean),0===this.options.enabledPlugins.length)throw new J("expect at least 1 enabled builtin plugin, see options.enabledPlugins",v);this.options.enabledPlugins.forEach((e=>{this.use(e)})),this._setUpMaxFields(),this._setUpMaxFiles(),this.ended=void 0,this.type=void 0}use(e){if("function"!=typeof e)throw new J(".use: expect `plugin` to be a function",k);return this._plugins.push(e.bind(this)),this}pause(){try{this.req.pause()}catch(e){return this.ended||this._error(e),!1}return!0}resume(){try{this.req.resume()}catch(e){return this.ended||this._error(e),!1}return!0}parse(e,t){if(this.req=e,t){const e=g(_(t));this.fields={};const i={};this.on("field",((e,t)=>{"multipart"===this.type||"urlencoded"===this.type?ge(this.fields,e)?this.fields[e].push(t):this.fields[e]=[t]:this.fields[e]=t})),this.on("file",((e,t)=>{ge(i,e)?i[e].push(t):i[e]=[t]})),this.on("error",(t=>{e(t,this.fields,i)})),this.on("end",(()=>{e(null,this.fields,i)}))}return this.writeHeaders(e.headers),e.on("error",(e=>{this._error(e)})).on("aborted",(()=>{this.emit("aborted"),this._error(new J("Request aborted",z))})).on("data",(e=>{try{this.write(e)}catch(e){this._error(e)}})).on("end",(()=>{this.error||this._parser&&this._parser.end()})),this}writeHeaders(e){this.headers=e,this._parseContentLength(),this._parseContentType(),this._parser?this._parser.once("error",(e=>{this._error(e)})):this._error(new J("no parser found",O,415))}write(e){return this.error?null:this._parser?(this.bytesReceived+=e.length,this.emit("progress",this.bytesReceived,this.bytesExpected),this._parser.write(e),this.bytesReceived):(this._error(new J("uninitialized parser",N)),null)}onPart(e){this._handlePart(e)}_handlePart(e){if(e.originalFilename&&"string"!=typeof e.originalFilename)return void this._error(new J("the part.originalFilename should be string when it exists",P));if(!e.mimetype){let t="";const i=new f.s(e.transferEncoding||this.options.encoding);return e.on("data",(e=>{this._fieldsSize+=e.length,this._fieldsSize>this.options.maxFieldsSize?this._error(new J(`options.maxFieldsSize (${this.options.maxFieldsSize} bytes) exceeded, received ${this._fieldsSize} bytes of field data`,L,413)):t+=i.write(e)})),void e.on("end",(()=>{this.emit("field",e.name,t)}))}if(!this.options.filter(e))return;this._flushing+=1;let t=0;const i=this._getNewName(e),n=this._joinDirectoryName(i),s=this._newFile({newFilename:i,filepath:n,originalFilename:e.originalFilename,mimetype:e.mimetype});s.on("error",(e=>{this._error(e)})),this.emit("fileBegin",e.name,s),s.open(),this.openedFiles.push(s),e.on("data",(e=>{this._totalFileSize+=e.length,t+=e.length,this._totalFileSize>this.options.maxTotalFileSize?this._error(new J(`options.maxTotalFileSize (${this.options.maxTotalFileSize} bytes) exceeded, received ${this._totalFileSize} bytes of file data`,M,413)):0!==e.length&&(this.pause(),s.write(e,(()=>{this.resume()})))})),e.on("end",(()=>{this.options.allowEmptyFiles||0!==t?t<this.options.minFileSize?this._error(new J(`options.minFileSize (${this.options.minFileSize} bytes) inferior, received ${t} bytes of file data`,I,400)):t>this.options.maxFileSize?this._error(new J(`options.maxFileSize (${this.options.maxFileSize} bytes), received ${t} bytes of file data`,W,413)):s.end((()=>{this._flushing-=1,this.emit("file",e.name,s),this._maybeEnd()})):this._error(new J("options.allowEmptyFiles is false, file size should be greather than 0",H,400))}))}_parseContentType(){0!==this.bytesExpected?this.headers["content-type"]?(new fe(this,this.options),this._plugins.forEach(((e,t)=>{let i=null;try{i=e(this,this.options)||this}catch(e){const i=new J(`plugin on index ${t} failed with: ${e.message}`,q,500);throw i.idx=t,i}Object.assign(this,i),this.emit("plugin",t,i)})),this.emit("pluginsResults",[])):this._error(new J("bad content-type header, no content-type",$,400)):this._parser=new fe(this,this.options)}_error(e,t="error"){this.error||this.ended||(this.req=null,this.error=e,this.emit(t,e),this.openedFiles.forEach((e=>{e.destroy()})))}_parseContentLength(){this.bytesReceived=0,this.headers["content-length"]?this.bytesExpected=parseInt(this.headers["content-length"],10):void 0===this.headers["transfer-encoding"]&&(this.bytesExpected=0),null!==this.bytesExpected&&this.emit("progress",this.bytesReceived,this.bytesExpected)}_newParser(){return new ne(this.options)}_newFile({filepath:e,originalFilename:t,mimetype:i,newFilename:n}){return this.options.fileWriteStreamHandler?new u({newFilename:n,filepath:e,originalFilename:t,mimetype:i,createFileWriteStream:this.options.fileWriteStreamHandler,hashAlgorithm:this.options.hashAlgorithm}):new o({newFilename:n,filepath:e,originalFilename:t,mimetype:i,hashAlgorithm:this.options.hashAlgorithm})}_getFileName(e){const t=e.match(/\bfilename=("(.*?)"|([^()<>{}[\]@,;:"?=\s/\t]+))($|;\s)/i);if(!t)return null;const i=t[2]||t[3]||"";let n=i.substr(i.lastIndexOf("\\")+1);return n=n.replace(/%22/g,'"'),n=n.replace(/&#([\d]{4});/g,((e,t)=>String.fromCharCode(t))),n}_getExtension(e){if(!e)return"";const t=c.basename(e),i=t.indexOf("."),n=t.lastIndexOf(".");let s,r=c.extname(t);i!==n&&(r=t.slice(i));const a=Array.from(r).findIndex(_e);return s=-1===a?r:r.substring(0,a),"."===s?"":s}_joinDirectoryName(e){const t=c.join(this.uploadDir,e);return t.startsWith(this.uploadDir)?t:c.join(this.uploadDir,this.options.defaultInvalidName)}_setUpRename(){const e="function"==typeof this.options.filename;this._getNewName=e?e=>{let t="",i=this.options.defaultInvalidName;return e.originalFilename&&(({ext:t,name:i}=c.parse(e.originalFilename)),!0!==this.options.keepExtensions&&(t="")),this.options.filename.call(this,i,t,e,this)}:e=>{const t=me();if(e&&this.options.keepExtensions){const i="string"==typeof e?e:e.originalFilename;return`${t}${this._getExtension(i)}`}return t}}_setUpMaxFields(){if(this.options.maxFields!==1/0){let e=0;this.on("field",(()=>{e+=1,e>this.options.maxFields&&this._error(new J(`options.maxFields (${this.options.maxFields}) exceeded`,C,413))}))}}_setUpMaxFiles(){if(this.options.maxFiles!==1/0){let e=0;this.on("fileBegin",(()=>{e+=1,e>this.options.maxFiles&&this._error(new J(`options.maxFiles (${this.options.maxFiles}) exceeded`,V,413))}))}}_maybeEnd(){!this.ended||this._flushing||this.error||(this.req=null,this.emit("end"))}}var Ee=be;const Fe=(...e)=>new Ee(...e),{enabledPlugins:ye}=pe;var Se=Fe}}]);